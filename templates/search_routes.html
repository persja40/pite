{% extends 'base.html' %} {% block title %}Login{% endblock %}
{% block content %}

<form method="post">
    {% csrf_token %}
    <div class="container">
        <div class="row">
            <div class="col-6">
                <div class="form-group">
                   <label for="id_address_start">Address start:</label>
                    <input class="form-control" type="text" name="address_start" maxlength="500" required id="id_address_start"/>

                    <label for="id_address_end">Address end:</label>
                    <input class="form-control" type="text" name="address_end" maxlength="500" required id="id_address_end"/>

                    <input type="hidden" name="address_start_lat" id="id_address_start_lat"/>
                    <input type="hidden" name="address_start_lng" id="id_address_start_lng"/>
                    <input type="hidden" name="address_end_lat" id="id_address_end_lat"/>
                    <input type="hidden" name="address_end_lng" id="id_address_end_lng" />

                    <button class="btn bnt-primary" type="submit">Search routes</button>
                </div>
            </div>

            <div class="col-6">
                <div id="map_canvas"></div>
            </div>
        </div>

        <div class="row">
            {% if routes %}
            <h2>Found routes:</h2>
            <table class="table table-hover table-stripped table-responsive">
                <tr>
                    <th>Start adress</th>
                    <th>End adress</th>
                    <th>Date</th>
                    <th>Hour</th>
                    <th>Price</th>
                </tr>
                {% for route in routes %}
                    <tr>
                        <td>{{ route.address_start }}</td>
                        <td>{{ route.address_end }}</td>
                        <td>{{ route.date }}</td>
                        <td>{{ route.hour }}</td>
                        <td>{{ route.price }}</td>
                        <td><button class="btn bnt-primary">Show</button></td>
                    </tr>
                {% endfor %}
            </table>
            {% endif %}
        </div>
    </div>
</form>
{% endblock %}
{% block scripts %}
    {{ block.super }}
    <script src="/static/django_google_maps/js/google-maps-admin.js"></script>
{% endblock %}